1) В GetDomain, GetPort, GetIP сделать так, что если маршруты выключены, то они брались из routes.json, а не xray.json
2) Сделать нормальный белый и черный списки (хранить их в отдельном конфиге, и, при необходимости вставлять в xray и свапать местами inboundы)
3) Интегрировать AdguardHome и ему подобные